#!/bin/sh
# Goblin Pre-commit Hook - Quality Gate
# Prevents bad code from being committed

echo "ğŸ” Running quality checks..."

# TypeScript check - fail on any errors
if ! bun run typecheck 2>&1; then
  echo "âŒ TypeScript errors found!"
  exit 1
fi

# Biome check on source files only (test files can use 'any' types)
if bun run biome check src/ 2>&1 | grep -E "Found [0-9]+ errors"; then
  echo "âŒ Lint errors found in source files!"
  exit 1
fi

echo "âœ… Quality checks passed!"
